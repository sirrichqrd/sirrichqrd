const tabButtons=document.querySelectorAll(".tab-button"),tabContents=document.querySelectorAll(".tab-content");tabButtons.forEach(e=>{e.addEventListener("click",()=>{tabButtons.forEach(e=>e.classList.remove("active")),tabContents.forEach(e=>e.classList.remove("active")),e.classList.add("active");const o=e.dataset.tab,t=document.getElementById(o);t&&t.classList.add("active")})}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();const o=document.querySelector(this.getAttribute("href"));o&&o.scrollIntoView({behavior:"smooth",block:"start"})})});const navLinks=document.querySelectorAll(".nav-link"),sections=document.querySelectorAll("section");window.addEventListener("scroll",()=>{let e="";sections.forEach(o=>{const t=o.offsetTop-100,a=o.offsetHeight;window.scrollY>=t&&window.scrollY<t+a&&(e=o.getAttribute("id"))}),navLinks.forEach(o=>{o.classList.remove("active"),o.getAttribute("href")===`#${e}`&&o.classList.add("active")})});const navbar=document.querySelector(".navbar");window.addEventListener("scroll",()=>{window.scrollY>50?navbar.style.background="linear-gradient(135deg, var(--primary-800), var(--primary-900))":navbar.style.background="linear-gradient(135deg, var(--primary-700), var(--primary-800))"});const marquee=document.querySelector(".marquee");if(marquee){const e=marquee.innerHTML;marquee.innerHTML+=e}const observerOptions={threshold:.1,rootMargin:"0px 0px -50px 0px"},observer=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&e.target.classList.add("fade-in-up")})},observerOptions),serviceItems=document.querySelectorAll(".service-item");serviceItems.forEach(e=>observer.observe(e));const bookingModal=document.getElementById("bookingModal"),modalServiceName=document.getElementById("modalServiceName"),modalServicePrice=document.getElementById("modalServicePrice"),modalMessage=document.getElementById("modalMessage"),whatsappLink=document.getElementById("whatsappLink"),emailLink=document.getElementById("emailLink"),modalClose=document.querySelector(".modal-close"),modalCancel=document.querySelector(".modal-btn-cancel");function closeBookingModal(){bookingModal.classList.remove("active"),document.body.style.overflow=""}document.querySelectorAll(".service-item, .service-item-list").forEach(e=>{e.dataset.service&&(e.style.cursor="pointer",e.addEventListener("click",()=>{const o=e.dataset.service,t=e.dataset.price,a=e.dataset.message;modalServiceName.textContent=o,modalServicePrice.textContent=t,modalMessage.textContent="Choose your preferred booking method below.";const n=`https://wa.me/2349077357013?text=${encodeURIComponent(a)}`;whatsappLink.href=n,whatsappLink.target="_blank";const r=`https://mail.google.com/mail/?view=cm&fs=1&to=sir.richqrd@gmail.com&su=${encodeURIComponent(`Service Booking: ${o}`)}&body=${["Hello SIR.RICHQRD,","","I am interested in booking the following service:","",`Service: ${o}`,`Price: ${t}`,"",a.replace(/Hi! I'd like to book|Hi! I'd like to signup for this Package|Hi! I'd like to discuss|Please provide more details about/g,"").trim(),"","Please provide me with:","- Available dates and times","- Location details","- Any preparation requirements","- Payment information","",'My preferred contact method: write your contact here "WhatsApp/Email/Phone"','Alternative contact: "WhatsApp number or phone number" (if applicable)',"","Thank you for your time. I look forward to hearing from you soon.","","Best regards"].join("%0A")}`;emailLink.href=r,emailLink.target="_blank",console.log("WhatsApp URL:",n),console.log("Email URL:",r),bookingModal.classList.add("active"),document.body.style.overflow="hidden"}))}),whatsappLink&&whatsappLink.addEventListener("click",function(e){e.preventDefault();const o=this.href;if(console.log("WhatsApp link clicked. URL:",o),o&&"#"!==o&&o!==window.location.href+"#")try{const e=window.open(o,"_blank");!e||e.closed||void 0===e.closed?(console.log("Window.open failed, trying location.href"),window.location.href=o):console.log("WhatsApp opened successfully"),setTimeout(()=>{closeBookingModal()},500)}catch(e){console.error("Error opening WhatsApp:",e),window.location.href=o}}),emailLink&&emailLink.addEventListener("click",function(e){console.log("Email link clicked. URL:",this.href),setTimeout(()=>{closeBookingModal()},500)}),modalClose&&modalClose.addEventListener("click",closeBookingModal),modalCancel&&modalCancel.addEventListener("click",closeBookingModal),bookingModal.addEventListener("click",e=>{e.target===bookingModal&&closeBookingModal()}),document.addEventListener("keydown",e=>{"Escape"===e.key&&bookingModal.classList.contains("active")&&closeBookingModal()});const featuredTabButtons=document.querySelectorAll(".featured-tab-button"),featuredTabPanels=document.querySelectorAll(".featured-tab-panel");console.log("Featured tab buttons:",featuredTabButtons.length),console.log("Featured tab panels:",featuredTabPanels.length),featuredTabButtons.forEach((e,o)=>{e.addEventListener("click",()=>{console.log("Featured tab clicked:",e.dataset.featuredTab),featuredTabButtons.forEach(e=>e.classList.remove("active")),featuredTabPanels.forEach(e=>e.classList.remove("active")),e.classList.add("active");const o=e.dataset.featuredTab,t=document.getElementById(o);console.log("Target ID:",o),console.log("Target panel:",t),t?(t.classList.add("active"),console.log("Panel activated successfully")):console.error("Panel not found for ID:",o)})});const mobileToggle=document.querySelector(".mobile-toggle"),mobileMenu=document.querySelector(".mobile-menu"),mobileDropdownToggles=document.querySelectorAll(".mobile-dropdown-toggle");mobileToggle.addEventListener("click",()=>{mobileMenu.classList.toggle("active");const e=mobileToggle.querySelector("i");mobileMenu.classList.contains("active")?(e.classList.remove("fa-bars"),e.classList.add("fa-times")):(e.classList.remove("fa-times"),e.classList.add("fa-bars"))}),document.querySelectorAll(".mobile-nav-link").forEach(e=>{e.addEventListener("click",()=>{mobileMenu.classList.remove("active"),mobileToggle.querySelector("i").classList.remove("fa-times"),mobileToggle.querySelector("i").classList.add("fa-bars")})});const targetDate=new Date("October 23, 2026 09:00:00").getTime(),countdownElement=document.getElementById("countdown"),maxValues={days:365,hours:24,minutes:60,seconds:60};function updateCountdown(){const e=(new Date).getTime(),o=targetDate-e;if(o<0)return void(countdownElement.innerHTML='<div class="event-started">EVENT STARTED!</div>');const t=Math.floor(o/864e5),a=Math.floor(o%864e5/36e5),n=Math.floor(o%36e5/6e4),r=Math.floor(o%6e4/1e3);let s="";[{value:t,label:"Days",max:maxValues.days},{value:a,label:"Hours",max:maxValues.hours},{value:n,label:"Minutes",max:maxValues.minutes},{value:r,label:"Seconds",max:maxValues.seconds}].forEach(e=>{const o=e.value/e.max*360,t=e.value.toString().padStart(2,"0");s+=`\n                    <div class="time-unit">\n                        <div class="circle-container">\n                            <div class="circle-bg"></div>\n                            <div class="circle-progress" style="transform: rotate(${o-90}deg);"></div>\n                            <div class="time-value">${t}</div>\n                        </div>\n                        <div class="time-label">${e.label}</div>\n                    </div>\n                `}),countdownElement.innerHTML=s}updateCountdown(),setInterval(updateCountdown,1e3),"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js").then(()=>{console.log("Service Worker Registered!")}),"serviceWorker"in navigator&&navigator.serviceWorker.getRegistrations().then(e=>{e.forEach(e=>e.unregister()),console.log("All service workers unregistered!")}),"serviceWorker"in navigator&&"localhost"!==location.hostname&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(e=>{console.log("Service Worker registered!",e)}).catch(e=>{console.error("Service Worker registration failed:",e)})});