const tabButtons=document.querySelectorAll(".tab-button"),tabContents=document.querySelectorAll(".tab-content");tabButtons.forEach(e=>{e.addEventListener("click",()=>{tabButtons.forEach(e=>e.classList.remove("active")),tabContents.forEach(e=>e.classList.remove("active")),e.classList.add("active");const t=e.dataset.tab,o=document.getElementById(t);o&&o.classList.add("active")})}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();const t=document.querySelector(this.getAttribute("href"));t&&t.scrollIntoView({behavior:"smooth",block:"start"})})});const navLinks=document.querySelectorAll(".nav-link"),sections=document.querySelectorAll("section");window.addEventListener("scroll",()=>{let e="";sections.forEach(t=>{const o=t.offsetTop-100,n=t.offsetHeight;window.scrollY>=o&&window.scrollY<o+n&&(e=t.getAttribute("id"))}),navLinks.forEach(t=>{t.classList.remove("active"),t.getAttribute("href")===`#${e}`&&t.classList.add("active")})});const navbar=document.querySelector(".navbar");window.addEventListener("scroll",()=>{window.scrollY>50?navbar.style.background="linear-gradient(135deg, var(--primary-800), var(--primary-900))":navbar.style.background="linear-gradient(135deg, var(--primary-700), var(--primary-800))"});const marquee=document.querySelector(".marquee");if(marquee){const e=marquee.innerHTML;marquee.innerHTML+=e}const observerOptions={threshold:.1,rootMargin:"0px 0px -50px 0px"},observer=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&e.target.classList.add("fade-in-up")})},observerOptions),serviceItems=document.querySelectorAll(".service-item");serviceItems.forEach(e=>observer.observe(e));const bookingModal=document.getElementById("bookingModal"),modalServiceName=document.getElementById("modalServiceName"),modalServicePrice=document.getElementById("modalServicePrice"),modalMessage=document.getElementById("modalMessage"),whatsappLink=document.getElementById("whatsappLink"),emailLink=document.getElementById("emailLink"),modalClose=document.querySelector(".modal-close"),modalCancel=document.querySelector(".modal-btn-cancel");function closeBookingModal(){bookingModal.classList.remove("active"),document.body.style.overflow=""}document.querySelectorAll(".service-item, .service-item-list").forEach(e=>{e.dataset.service&&(e.style.cursor="pointer",e.addEventListener("click",()=>{const t=e.dataset.service,o=e.dataset.price,n=e.dataset.message;modalServiceName.textContent=t,modalServicePrice.textContent=o,modalMessage.textContent="Choose your preferred booking method below.";const a=`https://wa.me/2349077357013?text=${encodeURIComponent(n)}`;whatsappLink.href=a,whatsappLink.target="_blank";const i=`https://mail.google.com/mail/?view=cm&fs=1&to=sir.richqrd@gmail.com&su=${encodeURIComponent(`Service Booking: ${t}`)}&body=${["Hello SIR.RICHQRD,","","I am interested in booking the following service:","",`Service: ${t}`,`Price: ${o}`,"",n.replace(/Hi! I'd like to book|Hi! I'd like to signup for this Package|Hi! I'd like to discuss|Please provide more details about/g,"").trim(),"","Please provide me with:","- Available dates and times","- Location details","- Any preparation requirements","- Payment information","",'My preferred contact method: write your contact here "WhatsApp/Email/Phone"','Alternative contact: "WhatsApp number or phone number" (if applicable)',"","Thank you for your time. I look forward to hearing from you soon.","","Best regards"].join("%0A")}`;emailLink.href=i,emailLink.target="_blank",console.log("WhatsApp URL:",a),console.log("Email URL:",i),bookingModal.classList.add("active"),document.body.style.overflow="hidden"}))}),whatsappLink&&whatsappLink.addEventListener("click",function(e){e.preventDefault();const t=this.href;if(console.log("WhatsApp link clicked. URL:",t),t&&"#"!==t&&t!==window.location.href+"#")try{const e=window.open(t,"_blank");!e||e.closed||void 0===e.closed?(console.log("Window.open failed, trying location.href"),window.location.href=t):console.log("WhatsApp opened successfully"),setTimeout(()=>{closeBookingModal()},500)}catch(e){console.error("Error opening WhatsApp:",e),window.location.href=t}}),emailLink&&emailLink.addEventListener("click",function(e){console.log("Email link clicked. URL:",this.href),setTimeout(()=>{closeBookingModal()},500)}),modalClose&&modalClose.addEventListener("click",closeBookingModal),modalCancel&&modalCancel.addEventListener("click",closeBookingModal),bookingModal.addEventListener("click",e=>{e.target===bookingModal&&closeBookingModal()}),document.addEventListener("keydown",e=>{"Escape"===e.key&&bookingModal.classList.contains("active")&&closeBookingModal()});const featuredTabButtons=document.querySelectorAll(".featured-tab-button"),featuredTabPanels=document.querySelectorAll(".featured-tab-panel");console.log("Featured tab buttons:",featuredTabButtons.length),console.log("Featured tab panels:",featuredTabPanels.length),featuredTabButtons.forEach((e,t)=>{e.addEventListener("click",()=>{console.log("Featured tab clicked:",e.dataset.featuredTab),featuredTabButtons.forEach(e=>e.classList.remove("active")),featuredTabPanels.forEach(e=>e.classList.remove("active")),e.classList.add("active");const t=e.dataset.featuredTab,o=document.getElementById(t);console.log("Target ID:",t),console.log("Target panel:",o),o?(o.classList.add("active"),console.log("Panel activated successfully")):console.error("Panel not found for ID:",t)})});const mobileToggle=document.querySelector(".mobile-toggle"),mobileMenu=document.querySelector(".mobile-menu"),mobileDropdownToggles=document.querySelectorAll(".mobile-dropdown-toggle");mobileToggle.addEventListener("click",()=>{mobileMenu.classList.toggle("active");const e=mobileToggle.querySelector("i");mobileMenu.classList.contains("active")?(e.classList.remove("fa-bars"),e.classList.add("fa-times")):(e.classList.remove("fa-times"),e.classList.add("fa-bars"))}),document.querySelectorAll(".mobile-nav-link").forEach(e=>{e.addEventListener("click",()=>{mobileMenu.classList.remove("active"),mobileToggle.querySelector("i").classList.remove("fa-times"),mobileToggle.querySelector("i").classList.add("fa-bars")})});const targetDate=new Date("October 23, 2026 09:00:00").getTime(),countdownElement=document.getElementById("countdown"),maxValues={days:365,hours:24,minutes:60,seconds:60};function updateCountdown(){const e=(new Date).getTime(),t=targetDate-e;if(t<0)return void(countdownElement.innerHTML='<div class="event-started">EVENT STARTED!</div>');const o=Math.floor(t/864e5),n=Math.floor(t%864e5/36e5),a=Math.floor(t%36e5/6e4),i=Math.floor(t%6e4/1e3);let s="";[{value:o,label:"Days",max:maxValues.days},{value:n,label:"Hours",max:maxValues.hours},{value:a,label:"Minutes",max:maxValues.minutes},{value:i,label:"Seconds",max:maxValues.seconds}].forEach(e=>{const t=e.value/e.max*360,o=e.value.toString().padStart(2,"0");s+=`\n                    <div class="time-unit">\n                        <div class="circle-container">\n                            <div class="circle-bg"></div>\n                            <div class="circle-progress" style="transform: rotate(${t-90}deg);"></div>\n                            <div class="time-value">${o}</div>\n                        </div>\n                        <div class="time-label">${e.label}</div>\n                    </div>\n                `}),countdownElement.innerHTML=s}function showLoading(e=!0){isLoading=e;document.getElementById("loadingScreen").style.display=e?"flex":"none",e&&setTimeout(()=>{isLoading&&(console.warn("Loading timeout - forcing display"),hideLoading(),showAuthAlert("Loading took too long. Please refresh the page.","warning"))},15e3)}function hideLoading(){isLoading=!1,document.getElementById("loadingScreen").style.display="none"}function formatDate(e){if(!e)return"N/A";return(e.toDate?e.toDate():new Date(e)).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}updateCountdown(),setInterval(updateCountdown,1e3),"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js").then(()=>{console.log("Service Worker Registered!")}),"serviceWorker"in navigator&&navigator.serviceWorker.getRegistrations().then(e=>{e.forEach(e=>e.unregister()),console.log("All service workers unregistered!")}),"serviceWorker"in navigator&&"localhost"!==location.hostname&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(e=>{console.log("Service Worker registered!",e)}).catch(e=>{console.error("Service Worker registration failed:",e)})}),document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("about-toggle"),t=document.querySelector(".about-more-content");let o=!1;e.addEventListener("click",()=>{o=!o,o?(t.style.display="block",e.innerHTML='Show Less <i class="fas fa-arrow-up"></i>'):(t.style.display="none",e.innerHTML='Read More <i class="fas fa-arrow-down"></i>')})}),document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("floatingNav"),t=document.getElementById("floatingNavButton"),o=document.getElementById("floatingNavMenu");let n=window.scrollY,a=!1;function i(){window.scrollY>100?e.classList.add("floating-nav--visible"):(e.classList.remove("floating-nav--visible"),s()),n=window.scrollY,a=!1}function s(){t.classList.remove("floating-nav__button--open"),t.setAttribute("aria-expanded","false"),o.classList.remove("floating-nav__menu--open"),o.setAttribute("aria-hidden","true")}window.addEventListener("scroll",function(){a||(requestAnimationFrame(i),a=!0)}),document.addEventListener("click",function(t){e.contains(t.target)||s()}),document.addEventListener("keydown",function(e){"Escape"===e.key&&s()}),t.addEventListener("click",function(){t.classList.contains("floating-nav__button--open")?s():(t.classList.add("floating-nav__button--open"),t.setAttribute("aria-expanded","true"),o.classList.add("floating-nav__menu--open"),o.setAttribute("aria-hidden","false"))}),document.querySelectorAll(".floating-nav__link").forEach(e=>{e.addEventListener("click",()=>{setTimeout(s,150)})})});